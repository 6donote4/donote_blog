!function(){"use strict";Ps.initialize($(".sidebar")[0]),$(".category-list-container > a, .tag-list-container > a, .archive-list-container > a").click(function(e){$(this).next().slideToggle("fast")}),$(".sidebar-toggle").click(function(e){$(".sidebar").toggleClass("in")}),$(".main-content").click(function(e){$(".sidebar").removeClass("in")}),$(".article-entry").each(function(e){$(this).find("img").each(function(){var e;$(this).closest("figure").hasClass("article-gallery-img")||(e=this.alt,$(this).wrap('<figure class="article-gallery-img" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject"></figure>').wrap('<a href="'+this.src+'" title="'+e+'"></a>'),$(this).after('<figcaption class="caption">'+(e||"")+"</figcaption>"))})}),document.querySelectorAll(".pswp")[0]&&function(c){for(var o=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))},e=function(e){var t=(e=e||window.event).target||e.srcElement,i=o(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(i){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var n,e=$(i).closest(c)[0],r=$(e).find("figure.article-gallery-img").toArray(),a=r.length,l=0,s=0;s<a;s++)if(1===r[s].nodeType){if(r[s]===i){n=l;break}l++}return 0<=n&&g(n,e),!1}},g=function(e,t,i,n){var r,a=document.querySelectorAll(".pswp")[0],l=function(e){for(var t,i,n,r,a=$(e).find("figure.article-gallery-img").toArray(),l=a.length,s=[],c=0;c<l;c++)1===(t=a[c]).nodeType&&(r=(i=t.children[0]).children[0],n=(n=i.getAttribute("data-size"))&&n.split("x"),r={src:i.getAttribute("href"),w:n&&parseInt(n[0],10)||r.width,h:n&&parseInt(n[1],10)||r.height},1<t.children.length&&(r.title=t.children[1].innerHTML),0<i.children.length&&(r.msrc=i.children[0].getAttribute("src")),r.el=t,s.push(r));return s}(t),s={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=l[e].el.getElementsByTagName("img")[0],e=window.pageYOffset||document.documentElement.scrollTop,t=t.getBoundingClientRect();return{x:t.left,y:t.top+e,w:t.width}}};if(n)if(s.galleryPIDs){for(var c=0;c<l.length;c++)if(l[c].pid==e){s.index=c;break}}else s.index=parseInt(e,10)-1;else s.index=parseInt(e,10);isNaN(s.index)||(i&&(s.showAnimationDuration=0),(r=new PhotoSwipe(a,PhotoSwipeUI_Default,l,s)).listen("imageLoadComplete",function(e,t){var i=t.el.children[0],n=t.container.children[0];i.getAttribute("data-size")||(i.setAttribute("data-size",n.naturalWidth+"x"+n.naturalHeight),t.w=n.naturalWidth,t.h=n.naturalHeight,r.invalidateCurrItems(),r.updateSize(!0))}),r.init())},t=document.querySelectorAll(c),i=0,n=t.length;i<n;i++)t[i].setAttribute("data-pswp-uid",i+1),t[i].onclick=e;var r=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i,n=e.split("&"),r=0;r<n.length;r++)n[r]&&((i=n[r].split("=")).length<2||(t[i[0]]=i[1]));return t.gid&&(t.gid=parseInt(t.gid,10)),t}();r.pid&&r.gid&&g(r.pid,t[r.gid-1],!0,!0)}(".article-gallery, .article-entry")}();